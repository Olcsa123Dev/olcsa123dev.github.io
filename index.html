<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyVideo - The Video Player Platform</title>
    <style>
        body {
    font-family: Arial, sans-serif;
    background-color: #f9f9f9;
    margin: 0;
    padding: 0;
}

.container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

h1 {
    text-align: center;
    color: #ff0000;
}

.video-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.video {
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    transition: transform 0.3s ease;
}

.video:hover {
    transform: translateY(-5px);
}

.video img {
    width: 100%;
    height: 200px;
    object-fit: cover;
}

.video p {
    padding: 10px;
    margin: 0;
}

    </style>
</head>
<body>
    <div class="container">
        <h1>MyVideo</h1>
        <form id="searchForm">
            <input type="text" id="searchInput" placeholder="Keresés...">
            <button type="submit">Keresés</button>
        </form>
        <div class="video-list" id="videoList">
            <!-- Ide kerülnek majd a videók -->
        </div>
    </div>

    <script src="https://apis.google.com/js/api.js"></script>
    <script>
        // Az API betöltése
        gapi.load("client", start);

        // API inicializálása
        function start() {
            gapi.client.init({
                apiKey: 'AIzaSyA9PoB2HogDjvDid653W13DvPe3KAne0nA', // Helyettesítsd az API-kulcsoddal
                discoveryDocs: ["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],
            }).then(function() {
                // Sikeres inicializáció esetén lekérjük a videókat
                getVideos('music'); // Alapértelmezett keresési kifejezés
            }, function(error) {
                console.error("Hiba az API inicializálásakor: ", error);
            });
        }

        // Videók lekérdezése
        function getVideos(searchQuery) {
            gapi.client.youtube.search.list({
                part: 'snippet',
                q: searchQuery,
                maxResults: 100 // Legfeljebb 100 videó
            }).then(function(response) {
                var videoList = document.getElementById("videoList");
                videoList.innerHTML = ''; // Előző videók törlése
                response.result.items.forEach(function(item) {
                    var videoItem = document.createElement("div");
                    videoItem.classList.add("video");
                    videoItem.setAttribute("onclick", "playVideo('" + item.id.videoId + "')");

                    var thumbnail = document.createElement("img");
                    thumbnail.src = item.snippet.thumbnails.medium.url;
                    videoItem.appendChild(thumbnail);

                    var title = document.createElement("p");
                    title.textContent = item.snippet.title;
                    videoItem.appendChild(title);

                    videoList.appendChild(videoItem);
                });
            }, function(error) {
                console.error("Hiba a videók lekérdezésekor: ", error);
            });
        }

        // Videó lejátszása
        function playVideo(videoId) {
            window.open('https://www.youtube.com/watch?v=' + videoId, '_blank');
        }

        // Kereső űrlap eseménykezelő
        document.getElementById("searchForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Az alapértelmezett űrlapkezelés megakadályozása
            var searchQuery = document.getElementById("searchInput").value;
            getVideos(searchQuery);
        });
    </script>
</body>
</html>
